{
    "alloc_samples": 75,
    "elapsed_time_sec": 0.6522469520568848,
    "files": {
        "./torch_module_profiling_no_grad.py": {
            "functions": [
                {
                    "line": "BeamlineModel.forward",
                    "lineno": 28,
                    "memory_samples": [
                        [
                            641784167,
                            80.60477293519112
                        ],
                        [
                            651768459,
                            79.1061423184009
                        ]
                    ],
                    "n_avg_mb": 1.5211515426635742,
                    "n_copy_mb_s": 0.0,
                    "n_cpu_percent_c": 0.6855323661626271,
                    "n_cpu_percent_python": 1.9547543945327004,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 1.5211515426635742,
                    "n_malloc_mb": 1.5211515426635742,
                    "n_mallocs": 1,
                    "n_peak_mb": 1.5211515426635742,
                    "n_python_fraction": 0.005082,
                    "n_sys_percent": 0.506239760094774,
                    "n_usage_fraction": 0.019338264138484523
                }
            ],
            "leaks": {},
            "lines": [
                {
                    "line": "import torch\n",
                    "lineno": 9,
                    "memory_samples": [
                        [
                            222822084,
                            9.02735297553451
                        ],
                        [
                            222837709,
                            17.932019026748648
                        ],
                        [
                            222853042,
                            26.782077058072556
                        ],
                        [
                            222868375,
                            35.66824232892076
                        ],
                        [
                            262998417,
                            44.898650385732125
                        ],
                        [
                            303097167,
                            54.20047575483486
                        ],
                        [
                            440000000,
                            63.49471140025434
                        ],
                        [
                            549641709,
                            72.81923716458371
                        ]
                    ],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 78.55784761755763,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 74.07736778259277,
                    "n_malloc_mb": 74.07736778259277,
                    "n_mallocs": 0,
                    "n_peak_mb": 74.07736778259277,
                    "n_python_fraction": 0.4625786416506569,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.9417389817421156
                },
                {
                    "line": "from bmadx import Particle, Drift, Quadrupole, track_lattice, M_ELECTRON\n",
                    "lineno": 11,
                    "memory_samples": [
                        [
                            629331042,
                            77.27221077449798
                        ]
                    ],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 1.4799280166625977,
                    "n_malloc_mb": 1.4799280166625977,
                    "n_mallocs": 0,
                    "n_peak_mb": 1.4799280166625977,
                    "n_python_fraction": 0.857357,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0188141931224366
                },
                {
                    "line": "    coords = dist.sample(torch.Size([n_particles])) # particles' coordinates\n",
                    "lineno": 16,
                    "memory_samples": [
                        [
                            639821667,
                            79.03133548222375
                        ]
                    ],
                    "n_avg_mb": 1.5817432403564453,
                    "n_copy_mb_s": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 1.5817432403564453,
                    "n_malloc_mb": 1.5817432403564453,
                    "n_mallocs": 1,
                    "n_peak_mb": 1.5817432403564453,
                    "n_python_fraction": 0.858197,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.020108560996963332
                },
                {
                    "line": "            beam_out = track_lattice(self.beam_in, lattice)\n",
                    "lineno": 39,
                    "memory_samples": [
                        [
                            641784167,
                            80.55988718426678
                        ]
                    ],
                    "n_avg_mb": 1.5211515426635742,
                    "n_copy_mb_s": 0.0,
                    "n_cpu_percent_c": 0.6855323661626271,
                    "n_cpu_percent_python": 1.9547543945327004,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 1.5211515426635742,
                    "n_malloc_mb": 1.5211515426635742,
                    "n_mallocs": 1,
                    "n_peak_mb": 1.5211515426635742,
                    "n_python_fraction": 0.005082,
                    "n_sys_percent": 0.506239760094774,
                    "n_usage_fraction": 0.019338264138484523
                },
                {
                    "line": "            dx = beam_out.x.std() - self.sigma_t\n",
                    "lineno": 40,
                    "memory_samples": [
                        [
                            651768459,
                            79.0934918247547
                        ]
                    ],
                    "n_avg_mb": 0.0,
                    "n_copy_mb_s": 0.0,
                    "n_cpu_percent_c": 0.0,
                    "n_cpu_percent_python": 0.0,
                    "n_gpu_avg_memory_mb": 0.0,
                    "n_gpu_peak_memory_mb": 0.0,
                    "n_gpu_percent": 0,
                    "n_growth_mb": 0.0,
                    "n_malloc_mb": 0.0,
                    "n_mallocs": 0,
                    "n_peak_mb": 0.0,
                    "n_python_fraction": 0,
                    "n_sys_percent": 0.0,
                    "n_usage_fraction": 0.0
                }
            ],
            "percent_cpu_time": 3.1465265207901014
        }
    },
    "gpu": false,
    "growth_rate": 100.64709179504058,
    "max_footprint_fname": "./torch_module_profiling_no_grad.py",
    "max_footprint_lineno": 40,
    "max_footprint_mb": 80.7335376739502,
    "memory": true,
    "program": "./torch_module_profiling_no_grad.py",
    "samples": [
        [
            222781292,
            9.020978424242305
        ],
        [
            222785750,
            17.91791858503764
        ],
        [
            222790042,
            26.787059597468225
        ],
        [
            222794250,
            35.65885714837496
        ],
        [
            262991209,
            44.913219713438366
        ],
        [
            303091125,
            54.207846264496034
        ],
        [
            439992875,
            63.48568338717451
        ],
        [
            549634917,
            72.82356473570239
        ]
    ]
}
